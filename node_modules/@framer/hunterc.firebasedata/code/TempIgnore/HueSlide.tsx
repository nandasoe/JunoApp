import * as React from "react"
import {
    Frame,
    useCycle,
    Color,
    addPropertyControls,
    ControlType,
    Stack,
} from "framer"

const maxHue = 360

function HueSlide({ hue, hueOffset }) {
    const hueCalc = (h, adjust = 0) =>
        h + adjust < 0
            ? h + adjust + maxHue
            : h + adjust > maxHue
            ? h + adjust - maxHue
            : h + adjust

    const color1 = Color({ h: hueCalc(hue, -hueOffset), s: 1, l: 0.5, a: 1 })
    const color2 = Color({ h: hueCalc(hue), s: 1, l: 0.5, a: 1 })
    const color3 = Color({ h: hueCalc(hue, hueOffset), s: 1, l: 0.5, a: 1 })

    // onValueChange

    return (
        <Stack size={"100%"} direction={"horizontal"} gap={0}>
            {[color1, color2, color3].map(color => (
                <Frame
                    backgroundColor={Color.toHexString(color)}
                    width={"1fr"}
                    height={"100%"}
                />
            ))}
        </Stack>
    )
}

addPropertyControls(HueSlide, {
    hue: {
        type: ControlType.Number,
        defaultValue: 0,
        min: 0,
        max: maxHue,
    },
    hueOffset: {
        type: ControlType.Number,
        defaultValue: 10,
        min: 0,
        max: 50,
    },
})
